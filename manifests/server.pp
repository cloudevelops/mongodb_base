class mongodb_base::server (
  $ensure           = undef,
  $user             = undef,
  $group            = undef,
  $config           = undef,
  $dbpath           = undef,
  $pidfilepath      = undef,
  $service_provider = undef,
  $service_name     = undef,
  $service_enable   = undef,
  $service_ensure   = undef,
  $service_status   = undef,
  $package_ensure   = undef,
  $package_name     = undef,
  $logpath          = undef,
  $bind_ip          = undef,
  $logappend        = undef,
  $fork             = undef,
  $port             = undef,
  $journal          = undef,
  $nojournal        = undef,
  $smallfiles       = undef,
  $cpu              = undef,
  $auth             = undef,
  $noauth           = undef,
  $verbose          = undef,
  $verbositylevel   = undef,
  $objcheck         = undef,
  $quota            = undef,
  $quotafiles       = undef,
  $diaglog          = undef,
  $directoryperdb   = undef,
  $profile          = undef,
  $maxconns         = undef,
  $oplog_size       = undef,
  $nohints          = undef,
  $nohttpinterface  = undef,
  $noscripting      = undef,
  $notablescan      = undef,
  $noprealloc       = undef,
  $nssize           = undef,
  $mms_token        = undef,
  $mms_name         = undef,
  $mms_interval     = undef,
  $replset          = undef,
  $rest             = undef,
  $slowms           = undef,
  $keyfile          = undef,
  $set_parameter    = undef,
  $syslog           = undef,
  $base_monitoring_collectd = $mongodb_base::params::base_monitoring_collectd,
  $base_install_client = $mongodb_base::params::base_install_client,
  $base_install_tools = $mongodb_base::params::base_install_tools,

) inherits mongodb_base::params {

  class {'::mongodb::globals':
    manage_package_repo => true,
  }->
  class { 'mongodb::server':
    ensure           => $ensure,
    user             => $user,
    group            => $group,
    config           => $config,
    dbpath           => $dbpath,
    pidfilepath      => $pidfilepath,
    service_provider => $service_provider,
    service_name     => $service_name,
    service_enable   => $service_enable,
    service_ensure   => $service_ensure,
    service_status   => $service_status,
    package_ensure   => $package_ensure,
    package_name     => $package_name,
    logpath          => $logpath,
    bind_ip          => $bind_ip,
    logappend        => $logappend,
    fork             => $fork,
    port             => $port,
    journal          => $journal,
    nojournal        => $nojournal,
    smallfiles       => $smallfiles,
    cpu              => $cpu,
    auth             => $auth,
    noauth           => $noauth,
    verbose          => $verbose,
    verbositylevel   => $verbositylevel ,
    objcheck         => $objcheck,
    quota            => $quota,
    quotafiles       => $quotafiles,
    diaglog          => $diaglog,
    directoryperdb   => $directoryperdb,
    profile          => $profile,
    maxconns         => $maxconns,
    oplog_size       => $oplog_size,
    nohints          => $nohints,
    nohttpinterface  => $nohttpinterface,
    noscripting      => $noscripting,
    notablescan      => $notablescan,
    noprealloc       => $noprealloc,
    nssize           => $nssize,
    mms_token        => $mms_token,
    mms_name         => $mms_name,
    mms_interval     => $mms_interval,
    replset          => $replset,
    rest             => $rest,
    slowms           => $slowms,
    keyfile          => $keyfile,
    set_parameter    => $set_parameter,
    syslog           => $syslog,
  }->
  class {'mongodb_base::monitoring': }

}